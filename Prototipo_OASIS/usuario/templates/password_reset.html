{% extends 'base.html' %} {# Hereda el diseño base (encabezado, pie, CSS de OASIS) #}
{% load widget_tweaks %} {# Necesario para aplicar clases de Bootstrap al formulario #}

{% block title %}Restablecer Contraseña{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card p-4 shadow-lg border-0 bg-white">
                <h2 class="card-title text-center mb-4 text-success">Restablecer Contraseña</h2>
                <p class="text-center text-muted mb-4">
                    Ingresa tu correo electrónico para recibir las instrucciones de recuperación.
                </p>

                <form method="post">
                    {% csrf_token %}
                    
                    {# Itera sobre el formulario de Django para aplicar estilos de Bootstrap #}
                    {% for field in form %}
                    <div class="mb-3">
                        <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}:</label>
                        {# Aplica la clase 'form-control' #}
                        {{ field|add_class:"form-control"|attr:"placeholder:tucorreo@sena.edu.co" }}
                        {# Muestra errores del campo #}
                        {% for error in field.errors %}
                            <div class="text-danger small">{{ error }}</div>
                        {% endfor %}
                    </div>
                    {% endfor %}
                    
                    {# Muestra errores no asociados a un campo #}
                    {% if form.non_field_errors %}
                        <div class="alert alert-danger">
                            {% for error in form.non_field_errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}

                    <button type="submit" class="btn btn-success w-100 mt-3 fw-bold">
                        Restablecer mi contraseña
                    </button>
                </form>
            </div>
            <div class="text-center mt-3">
                {# Asume que la URL de login es 'auth:login' según tu urls.py #}
                <a href="{% url 'auth:login' %}" class="text-success small">Volver al inicio de sesión</a>
            </div>
        </div>
    </div>
</div>
{% endblock content %}